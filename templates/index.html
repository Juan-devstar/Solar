<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Paneles Solares</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container">
        <h1>Calculadora de Paneles Solares</h1>
        <form action="/calcular" method="post">
            <label for="location">Ubicación:</label>
            <input type="text" id="location" name="location" required>
            
            <fieldset>
                <legend>Dispositivos</legend>
                <div id="dispositivos-container">
                    <!-- Aquí se generarán dinámicamente los campos para dispositivos -->
                </div>
                <button type="button" onclick="agregarDispositivo()">Agregar Dispositivo</button>
            </fieldset>
            
            <input type="submit" value="Calcular">
        </form>
    </div>

    <script>
        let dispositivoIndex = 0;

        function agregarDispositivo() {
            dispositivoIndex++;
            const container = document.getElementById('dispositivos-container');
            const html = `
                <div>
                    <label for="dispositivo_${dispositivoIndex}">Nombre del dispositivo:</label>
                    <input type="text" id="dispositivo_${dispositivoIndex}" name="dispositivo_${dispositivoIndex}" required>
                    
                    <label for="consumo_${dispositivoIndex}">Consumo en Watts:</label>
                    <input type="number" id="consumo_${dispositivoIndex}" name="consumo_${dispositivoIndex}" required>
                    
                    <label for="cantidad_${dispositivoIndex}">Cantidad:</label>
                    <input type="number" id="cantidad_${dispositivoIndex}" name="cantidad_${dispositivoIndex}" required>
                    
                    <label for="horas_uso_${dispositivoIndex}">Horas de uso diario:</label>
                    <input type="number" step="0.1" id="horas_uso_${dispositivoIndex}" name="horas_uso_${dispositivoIndex}" required>
                </div>
            `;
            container.innerHTML += html;
        }
    </script>
</body>
</html>
